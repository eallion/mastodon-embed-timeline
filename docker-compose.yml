# This is a docker compose file to demonstrate and test the mastodon-timeline widget
# Run this docker CLI from the root repo directory:
#
# $ docker compose up

version: '3.3'

services:
  lighttpd:
    image: jitesoft/lighttpd
    ports:
      - "8080:80"
      - "8443:443"
    volumes:
      - ./src/index.html:/var/www/index.html
      - ./src/mastodon-timeline.js:/var/www/mastodon-timeline.js
      - ./src/mastodon-timeline.css:/var/www/mastodon-timeline.css
    environment:
      - PORT=80
      - SERVER_NAME=mastodon-timeline
      - SERVER_ROOT=/var/www
      - CONFIG_FILE=/etc/lighttpd/lighttpd.conf
      - SKIP_HEALTHCHECK=false
      - MAX_FDS=1024
